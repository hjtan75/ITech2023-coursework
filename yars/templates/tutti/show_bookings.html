<!DOCTYPE html>
{% load staticfiles %}
<html lang="en">
<head>
    <meta charset="UTF-8">

    <title>Your bookings</title>
    <!-- Bootstrap core CSS -->
    <link href="https://getbootstrap.com/docs/4.2/dist/css/bootstrap.min.css"
          rel="stylesheet" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS"
          crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="{% static 'CSS/show_booking.css' %}" />


</head>
<body>

<div>
<h1>Your Reservations </h1>
</div>
{% if bookings %}
<div class = "container-fluid show_booking" id="bookingTable">
<table class = "table-bordered " >
    <tr>
        <th>bookingID</th>
        <th>Date</th>
        <th>Time</th>
        <th>Number of People</th>
        <th>Description</th>
        <th>Edit</th>
        <th>Delete</th>
    </tr>
    {% for booking in bookings %}
    <tr id="booking-{{ booking.bookingID }}">
        <td class="id">{{ booking.bookingID }}</td>
        <td class="date">{{ booking.date|date:"Y-m-d" }}</td>
        <td class="time">{{ booking.get_time_display|slice:"2:7" }}</td>
        <td class="numOFPeople">{{ booking.numberOfPeople }}</td>
        <td class="notes">{{ booking.notes }}</td>
        <td>
            <span data-feather="edit" class="edit_booking" id="edit_booking"
                  data-toggle="modal" data-target="#exampleModal"
                  data-bookingid="{{ booking.bookingID }}">

            </span>
        </td>
        <td>
            <span data-feather="trash-2" class="delete_booking" id="delete{{ booking.bookingID }}"
                  data-bookingid="{{ booking.bookingID }}"></span>
        </td>
    </tr>
    {% endfor %}

</table>
</div>

<!-- test -->
<!-- Button trigger modal -->
<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Edit booking</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <!-- form fields go here -->
        <form>
          <div class="form-group">
            <label for="bookingDate" class="col-form-label">Date:</label>
            <input type="text" class="form-control" id="bookingDate" name ="bookingDate" placeholder="YYYY-MM-DD">
          </div>
            <div class="form-group">
            <label for="bookingTime" class="col-form-label">Time:</label>
            <input type="text" class="form-control" id="bookingTime">
          </div>
            <div class="form-group">
            <label for="numberOFPeople" class="col-form-label">Number of People:</label>
            <input type="text" class="form-control" id="numberOFPeople">
          </div>
          <div class="form-group">
            <label for="Description-text" class="col-form-label">Message:</label>
            <textarea class="form-control" id="Description-text"></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" id="submit-form">Save changes</button>
      </div>
    </div>
  </div>
</div>


<footer>

</footer>
{% else %}
    <strong>No bookings currently.</strong>
{% endif %}

 <!-- Bootstrap core JavaScript -->
        <!-- Placed at the end of the document so the pages load faster -->
        <script src="{% static 'js/jquery-3.3.1.min.js' %}" crossorigin="anonymous"></script>
        <!-- jQuery UI CSS -->
        <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">

        <!-- jQuery UI JavaScript -->
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
        <!-- jQuery Timepicker Addon CSS -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-timepicker/1.10.0/jquery.timepicker.min.css">
        <!-- jQuery Timepicker Addon JavaScript -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-timepicker/1.10.0/jquery.timepicker.min.js"></script>

        <script src="{% static 'js/showBooking-jquery.js' %}" crossorigin="anonymous"></script>
        <script src="{% static 'js/showBooking-ajax.js' %}" crossorigin="anonymous"></script>
        <!--<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>-->
        <script>window.jQuery || document.write('<script src="https://getbootstrap.com/docs/4.2/assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
        <script src="https://getbootstrap.com/docs/4.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-zDnhMsjVZfS3hiP7oCBRmfjkQC4fzxVxFhBx8Hkz2aZX8gEvA/jsP3eXRCvzTofP" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.9.0/feather.min.js"></script>
        <script src="https://getbootstrap.com/docs/4.2/examples/dashboard/dashboard.js"></script>

</body>
</html>